(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{136:function(e,t){},148:function(e,t,n){e.exports=n.p+"static/media/icon.21397a20.png"},165:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(11),o=n.n(a),r=(n(248),n(0)),i=n.n(r),c=n(35),l=n(131),u=n(250),d=n(71),s=n(137);e.btoa||(e.btoa=s.encode),e.atob||(e.atob=s.decode);var f=Object(u.a)();function m(){var e=Object(r.useState)(!0),t=o()(e,2),n=t[0],a=t[1],u=Object(r.useState)(null),s=o()(u,2),m=s[0],g=s[1];return Object(r.useEffect)((function(){var e=c.a.firestore().collection("users");c.a.auth().onAuthStateChanged((function(t){t?e.doc(t.uid).get().then((function(e){var t=e.data();a(!1),g(t)})).catch((function(e){a(!1)})):a(!1)}))}),[]),n?i.a.createElement(i.a.Fragment,null):i.a.createElement(l.a,null,i.a.createElement(f.Navigator,null,m?i.a.createElement(f.Screen,{name:"Profile",component:d.d}):i.a.createElement(i.a.Fragment,null,i.a.createElement(f.Screen,{name:"Welcome",component:d.f}),i.a.createElement(f.Screen,{name:"Login",component:d.c}),i.a.createElement(f.Screen,{name:"Registration",component:d.e})),i.a.createElement(f.Screen,{name:"CandidateList",component:d.a,options:{title:"Candidates"}}),i.a.createElement(f.Screen,{name:"Info",component:d.b})))}}).call(this,n(53))},201:function(e,t,n){e.exports=n(249)},35:function(e,t,n){"use strict";var a=n(121);n.d(t,"a",(function(){return a.a}));n(146),n(147);a.a.apps.length||a.a.initializeApp({apiKey:"AIzaSyAnrCTPwPwVNOkdj2eXTSkksC-qgm6pq9c",authDomain:"engvalley.firebaseapp.com",databaseURL:"https://engvalley-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"engvalley",storageBucket:"engvalley.appspot.com",messagingSenderId:"826474545066",appId:"test"})},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return R})),n.d(t,"f",(function(){return A}));var a=n(11),o=n.n(a),r=n(0),i=n.n(r),c=n(55),l=n(49),u=n(30),d=n(5),s=n(7),f=s.a.create({container:{flex:1,alignItems:"center"},formContainer:{flexDirection:"row",height:80,marginTop:40,marginBottom:20,flex:1,paddingTop:10,paddingBottom:10,paddingLeft:30,paddingRight:30,justifyContent:"center",alignItems:"center"},input:{height:48,borderRadius:5,overflow:"hidden",backgroundColor:"white",paddingLeft:16,flex:1,marginRight:5},button:{height:47,borderRadius:5,backgroundColor:"#788eec",width:80,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontSize:16},listContainer:{marginTop:20,padding:20},entityContainer:{marginTop:16,borderBottomColor:"#cccccc",borderBottomWidth:1,paddingBottom:16},entityText:{fontSize:20,color:"#333333"}}),m=n(35),g=n(188);function p(e){return i.a.createElement(c.a,{onPress:function(){return g.a.openURL("mailto:"+e.email)},title:e.title||"Contact"})}function h(e){e.props;var t=e.navigation,n=Object(r.useState)([]),a=o()(n,2),s=a[0],g=a[1],h=m.a.firestore().collection("users");Object(r.useEffect)((function(){h.get().then((function(e){var t=[];e.forEach((function(e){var n=e.data(),a={fullName:n.fullName,title:n.title,id:n.id,email:n.email};t.push(a)})),g(t),console.log("Found users: ",t)}),(function(e){console.log(e)}))}),[]);return i.a.createElement(d.a,{style:f.container},s&&i.a.createElement(d.a,{style:f.listContainer},i.a.createElement(l.a,{data:s,renderItem:function(e){var n=e.item;e.index;return i.a.createElement(d.a,{style:f.userContainer,key:n.fullName},i.a.createElement(u.a,{style:f.userText},n.fullName,", ",n.title),i.a.createElement(c.a,{title:"View info",onPress:function(){return t.navigate("Info",{userId:n.id})}}),i.a.createElement(p,{email:n.email}))},keyExtractor:function(e){return e.id},removeClippedSubviews:!0})))}var b=n(54),y=n(23),C=n(44),E=n(122),v=s.a.create({container:{flex:1,alignItems:"center"},title:{},logo:{flex:1,height:120,width:90,alignSelf:"center",margin:30},input:{height:48,borderRadius:5,overflow:"hidden",backgroundColor:"white",marginTop:10,marginBottom:10,marginLeft:30,marginRight:30,paddingLeft:16},button:{backgroundColor:"#788eec",marginLeft:30,marginRight:30,marginTop:20,height:48,borderRadius:5,alignItems:"center",justifyContent:"center"},buttonTitle:{color:"white",fontSize:16,fontWeight:"bold"},footerView:{flex:1,alignItems:"center",marginTop:20},footerText:{fontSize:16,color:"#2e2e2d"},footerLink:{color:"#788eec",fontWeight:"bold",fontSize:16}});function x(e){var t=e.navigation,a=Object(r.useState)(""),c=o()(a,2),l=c[0],s=c[1],f=Object(r.useState)(""),g=o()(f,2),p=g[0],h=g[1];return i.a.createElement(d.a,{style:v.container},i.a.createElement(E.a,{style:{flex:1,width:"100%"},keyboardShouldPersistTaps:"always"},i.a.createElement(b.a,{style:v.logo,source:n(148)}),i.a.createElement(y.a,{style:v.input,placeholder:"E-mail",placeholderTextColor:"#aaaaaa",onChangeText:function(e){return s(e)},value:l,underlineColorAndroid:"transparent",autoCapitalize:"none"}),i.a.createElement(y.a,{style:v.input,placeholderTextColor:"#aaaaaa",secureTextEntry:!0,placeholder:"Password",onChangeText:function(e){return h(e)},value:p,underlineColorAndroid:"transparent",autoCapitalize:"none"}),i.a.createElement(C.a,{style:v.button,onPress:function(){m.a.auth().signInWithEmailAndPassword(l,p).then((function(e){var n=e.user.uid;m.a.firestore().collection("users").doc(n).get().then((function(e){if(e.exists){var n=e.data();t.navigate("Home",{user:n})}else alert("User does not exist anymore.")})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}))}},i.a.createElement(u.a,{style:v.buttonTitle},"Log in")),i.a.createElement(d.a,{style:v.footerView},i.a.createElement(u.a,{style:v.footerText},"Don't have an account? ",i.a.createElement(u.a,{onPress:function(){t.navigate("Registration")},style:v.footerLink},"Sign up")))))}n(42),s.a.create({container:{flex:1,alignItems:"center"},formContainer:{flexDirection:"row",height:80,marginTop:40,marginBottom:20,flex:1,paddingTop:10,paddingBottom:10,paddingLeft:30,paddingRight:30,justifyContent:"center",alignItems:"center"},input:{height:48,borderRadius:5,overflow:"hidden",backgroundColor:"white",paddingLeft:16,flex:1,marginRight:5},button:{height:47,borderRadius:5,backgroundColor:"#788eec",width:80,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontSize:16},listContainer:{marginTop:20,padding:20},entityContainer:{marginTop:16,borderBottomColor:"#cccccc",borderBottomWidth:1,paddingBottom:16},entityText:{fontSize:20,color:"#333333"}});var T=s.a.create({container:{flex:1,alignItems:"center"},formContainer:{flexDirection:"row",height:80,marginTop:40,marginBottom:20,flex:1,paddingTop:10,paddingBottom:10,paddingLeft:30,paddingRight:30,justifyContent:"center",alignItems:"center"},input:{height:48,borderRadius:5,overflow:"hidden",backgroundColor:"white",paddingLeft:16,flex:1,marginRight:5},button:{height:47,borderRadius:5,backgroundColor:"#788eec",width:80,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontSize:16},listContainer:{marginTop:20,padding:20},entityContainer:{marginTop:16,borderBottomColor:"#cccccc",borderBottomWidth:1,paddingBottom:16},entityText:{fontSize:20,color:"#333333"}});function w(e){var t=e.route,n=Object(r.useState)({}),a=o()(n,2),c=a[0],l=a[1],s=Object(r.useState)([]),f=o()(s,2),g=f[0],h=f[1],b=m.a.firestore().collection("candidateFields"),y=m.a.firestore().collection("users"),C=t.params.userId;return Object(r.useEffect)((function(){y.doc(C).get().then((function(e){return l(e.data())})).catch((function(e){return alert(e)})),b.get().then((function(e){console.log(e.docs),h(e.docs.map((function(e){return e.data()})))})).catch((function(e){return alert(e)}))}),[]),i.a.createElement(d.a,{style:T.container},i.a.createElement(d.a,{style:T.formContainer},g.map((function(e,t){return function(e,t){return console.log("Data: ",t),i.a.createElement(d.a,{key:e.name},i.a.createElement(u.a,null,e.displayName),i.a.createElement(u.a,null,t||""))}(e,c[e.name])}))),i.a.createElement(p,{email:c.email}))}var S=n(4),j=n.n(S),O=s.a.create({container:{flex:1,alignItems:"center"},formContainer:{flexDirection:"row",height:80,marginTop:40,marginBottom:20,flex:1,paddingTop:10,paddingBottom:10,paddingLeft:30,paddingRight:30,justifyContent:"center",alignItems:"center"},input:{height:48,borderRadius:5,overflow:"hidden",backgroundColor:"white",paddingLeft:16,flex:1,marginRight:5},button:{height:47,borderRadius:5,backgroundColor:"#788eec",width:80,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontSize:16},listContainer:{marginTop:20,padding:20},entityContainer:{marginTop:16,borderBottomColor:"#cccccc",borderBottomWidth:1,paddingBottom:16},entityText:{fontSize:20,color:"#333333"}});function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=e.navigation,n=Object(r.useState)({}),a=o()(n,2),l=a[0],s=a[1],f=Object(r.useState)({}),g=o()(f,2),p=g[0],h=g[1],b=Object(r.useState)([]),C=o()(b,2),E=C[0],v=C[1],x=m.a.firestore().collection("candidateFields"),T=m.a.firestore().collection("users"),w=m.a.auth().currentUser.uid;return Object(r.useEffect)((function(){T.doc(w).get().then((function(e){var t=e.data();s(t),h(k({},t))})).catch((function(e){return alert(e)})),x.get().then((function(e){console.log(e.docs),v(e.docs.map((function(e){return e.data()})))})).catch((function(e){return alert(e)}))}),[]),i.a.createElement(d.a,{style:O.container},i.a.createElement(d.a,{style:O.formContainer},E.map((function(e,t){return function(e){return i.a.createElement(d.a,{key:e.name},i.a.createElement(u.a,null,e.displayName),i.a.createElement(y.a,{value:l[e.name]||"",onChangeText:function(t){var n=k({},l);n[e.name]=t,s(n)}}))}(e)}))),i.a.createElement(c.a,{title:"Save",onPress:function(){T.doc(l.id).set(l).then((function(){return alert("Updated!")})).catch((function(e){return alert(e)})).then((function(){return h(k({},l))}))}}),i.a.createElement(c.a,{title:"Discard",onPress:function(){s(k({},p))}}),i.a.createElement(c.a,{title:"Candidates",onPress:function(){return t.navigate("CandidateList")}}))}var L=s.a.create({container:{flex:1,alignItems:"center"},title:{},logo:{flex:1,height:120,width:90,alignSelf:"center",margin:30},input:{height:48,borderRadius:5,overflow:"hidden",backgroundColor:"white",marginTop:10,marginBottom:10,marginLeft:30,marginRight:30,paddingLeft:16},button:{backgroundColor:"#788eec",marginLeft:30,marginRight:30,marginTop:20,height:48,borderRadius:5,alignItems:"center",justifyContent:"center"},buttonTitle:{color:"white",fontSize:16,fontWeight:"bold"},footerView:{flex:1,alignItems:"center",marginTop:20},footerText:{fontSize:16,color:"#2e2e2d"},footerLink:{color:"#788eec",fontWeight:"bold",fontSize:16}});function R(e){var t=e.navigation,a=Object(r.useState)(""),c=o()(a,2),l=c[0],s=c[1],f=Object(r.useState)(""),g=o()(f,2),p=g[0],h=g[1],v=Object(r.useState)(""),x=o()(v,2),T=x[0],w=x[1],S=Object(r.useState)(""),j=o()(S,2),O=j[0],P=j[1];return i.a.createElement(d.a,{style:L.container},i.a.createElement(E.a,{style:{flex:1,width:"100%"},keyboardShouldPersistTaps:"always"},i.a.createElement(b.a,{style:L.logo,source:n(148)}),i.a.createElement(y.a,{style:L.input,placeholder:"Full Name",placeholderTextColor:"#aaaaaa",onChangeText:function(e){return s(e)},value:l,underlineColorAndroid:"transparent",autoCapitalize:"none"}),i.a.createElement(y.a,{style:L.input,placeholder:"E-mail",placeholderTextColor:"#aaaaaa",onChangeText:function(e){return h(e)},value:p,underlineColorAndroid:"transparent",autoCapitalize:"none"}),i.a.createElement(y.a,{style:L.input,placeholderTextColor:"#aaaaaa",secureTextEntry:!0,placeholder:"Password",onChangeText:function(e){return w(e)},value:T,underlineColorAndroid:"transparent",autoCapitalize:"none"}),i.a.createElement(y.a,{style:L.input,placeholderTextColor:"#aaaaaa",secureTextEntry:!0,placeholder:"Confirm Password",onChangeText:function(e){return P(e)},value:O,underlineColorAndroid:"transparent",autoCapitalize:"none"}),i.a.createElement(C.a,{style:L.button,onPress:function(){T===O?m.a.auth().createUserWithEmailAndPassword(p,T).then((function(e){var n=e.user.uid,a={id:n,email:p,fullName:l};m.a.firestore().collection("users").doc(n).set(a).then((function(){t.navigate("Home",{user:a})})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)})):alert("Passwords don't match.")}},i.a.createElement(u.a,{style:L.buttonTitle},"Create account")),i.a.createElement(d.a,{style:L.footerView},i.a.createElement(u.a,{style:L.footerText},"Already got an account? ",i.a.createElement(u.a,{onPress:function(){t.navigate("Login")},style:L.footerLink},"Log in")))))}var B=n(136),z=n.n(B),A=function(e){var t=e.navigation;return i.a.createElement(d.a,{style:z.a.container},i.a.createElement(d.a,{style:z.a.formContainer},i.a.createElement(c.a,{onPress:function(){return t.navigate("CandidateList")},title:"View candidates"}),i.a.createElement(c.a,{onPress:function(){return t.navigate("Login")},title:"Sign In / Sign Up"})))}}},[[201,1,2]]]);
//# sourceMappingURL=app.38330a68.chunk.js.map